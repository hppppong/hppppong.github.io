{"version":3,"sources":["components/AnimatedSwitch.tsx","assets/back.svg","components/Header.tsx","utils/mediaStream.ts","hooks/useCamera.ts","components/MediaStream.tsx","containers/CameraSetting/index.tsx","assets/cross.svg","assets/icon.png","components/Button.tsx","assets/checkbox.svg","assets/checkboxChecked.svg","components/CheckBox.tsx","components/DoseRecord.tsx","assets/forbidden.png","components/Place.tsx","utils/global.ts","assets/crossBlack.svg","assets/greenTick.svg","containers/Confirm/AutoLeaveModal.tsx","containers/Confirm/LeaveModal.tsx","components/DatePicker.tsx","containers/Confirm/TimePickModal.tsx","containers/Confirm/index.tsx","utils/qr.ts","assets/baseIcon.png","containers/QRGeneartor/QRPreview.tsx","containers/QRGeneartor/index.tsx","assets/qrOverlay.svg","components/QRCodeReader.tsx","containers/QRReader/index.tsx","assets/bar.png","assets/bg.png","assets/leave.png","containers/Welcome/index.tsx","App.tsx","utils/appCheck.ts","serviceWorkerRegistration.ts","index.tsx"],"names":["AnimatedSwitch","props","StyledSwitch","atEnter","opacity","offset","zIndex","atLeave","atActive","val","spring","stiffness","damping","mapStyles","styles","transform","styled","Switch","Header","name","backPath","Wrapper","to","BackButton","src","back","style","fontSize","img","div","getMediaStream","cameraId","a","navigator","mediaDevices","getUserMedia","video","deviceId","facingMode","audio","alert","console","log","isIOS","constate","useState","hasCameraSupport","useLocalStorage","setCameraId","cameraList","setCameraList","initCameraList","useCallback","hasIn","enumerateDevices","deviceList","filter","device","kind","useEffect","any","UseCameraProvider","useCamera","MediaStream","onFrame","videoRef","useRef","canvasRef","useRafLoop","canvasElement","current","videoElement","readyState","HAVE_ENOUGH_DATA","canvas","getContext","height","videoHeight","width","videoWidth","drawImage","imageData","getImageData","loopStop","loopStart","initMediaStream","undefined","stream","srcObject","play","getTracks","forEach","track","stop","Video","ref","playsInline","Canvas","CameraSetting","PageWrapper","FormWrapper","StyledFormControl","InputLabel","id","Select","labelId","value","onChange","e","target","MenuItem","map","label","isNil","isEmpty","VideoContainer","FormControl","ConfirmButton","button","disabled","shadowed","ModalConfirmButton","CheckBox","checked","handleClick","isAndroid","StyledCheckbox","onClick","color","IOSCheckBox","checkboxChecked","checkbox","Checkbox","container","alignItems","justifyContent","display","flexDirection","flex","doseContainer","borderRadius","window","innerWidth","paddingTop","text","fontWeight","forbiddenContainer","fullWidth","DoseRecord","containerStyle","backgroundColor","alt","Place","placeholder","readOnly","rest","StyledInput","async","TextareaAutosize","global","place","startTime","AutoLeaveModal","isModalOpen","onCancel","onConfirm","selectedAutoLeaveHour","date","autoLeaveHourTmp","setAutoLeaveHourTmp","toDate","useMemo","add","isOpen","onRequestClose","overlay","content","outline","border","padding","position","top","left","overflow","ariaHideApp","onAfterOpen","root","document","querySelector","disableBodyScroll","CrossWrapper","Cross","crossBlack","Title","HourListWrapper","HourList","hour","HourListItem","SelectedTick","greenTick","TimeWrapper","format","h1","ul","li","LeaveModal","onLeaveNow","onLeaved","autoLeaveHour","shouldDisplayAutoLeave","Msg","Time","AutoLeave","GreenButton","DatePicker","forwardRef","useImperativeHandle","init","ele","Picker","inline","rows","className","TimePickModal","datePickerRef","TimePickerWrapper","Confirm","browserHistory","useHistory","browserLocation","useLocation","autoLeave","setAutoLeave","setAutoLeaveHour","isAutoLeaveModalOpen","setIsAutoLeaveModalOpen","isLeaveModalOpen","setIsLeaveModalOpen","isTimePickModalOpen","setIsTimePickModalOpen","second","setSecond","timerStart","moment","diff","setTimeout","Math","floor","min","secondRemain","trim","URLSearchParams","search","get","dayjs","handleLeavePage","push","icon","right","cross","MessageWrapper","PlaceWrapper","ActionGroup","marginBottom","fontFamily","toString","padStart","marginLeft","marginRight","sec","CheckBoxWrapper","Change","getVenueName","input","startsWith","decodedJson","venueId","substring","computedHash","getHash","base64Data","json","JSON","parse","decodeURIComponent","escape","atob","decodedData","hashMatch","hash","qrDecode","trimmedZhName","nameZh","nameEn","string","sha256","qrEncode","typeEn","typeZh","type","venueCode","venueID","metadata","btoa","unescape","encodeURIComponent","stringify","QRPreview","data","onLeave","imgRef","encodedString","QrCodeWithLogo","image","logo","customImg","baseIcon","logoRadius","borderSize","toImage","StyledPlace","StyledQrCode","Address","addressZh","addressEn","TickWrapper","TickWrapperInner","QRGenerator","fileFieldRef","React","showPreview","setShowPreview","qrCode","setQrCode","useSetState","state","setState","isVenueCodeValid","length","isVenueIdValid","isValidData","useMount","ContentWrapper","StyledForm","StyledTextField","error","inputProps","maxLength","StyledInputWrapper","StyledFileInput","accept","files","Array","from","head","reader","FileReader","readAsDataURL","onload","String","result","Divider","Actions","ButtonGroup","aria-label","Button","variant","size","startIcon","downloadImage","FormGroup","TextField","QRCodeReader","onDecode","handleFrame","code","jsQR","inversionAttempts","QRReader","Message","Overlay","pathname","qrOverlay","Welcome","floatButton","leave","timeText","spacer","dateTextContainer","dateText","locale","updateContainer","bg","updateText","whiteSpacer","bottomBar","bar","overflowY","overflowX","bottom","boxShadow","textShadow","paddingBottom","marginTop","whiteBg","App","matchMedia","matches","test","location","hostname","adapter","browserDetails","browser","version","GlobalStyle","basename","exact","path","createGlobalStyle","isLocalhost","Boolean","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.68d3fe13.chunk.js","sourcesContent":["import React from \"react\";\nimport { AnimatedSwitch as Switch, spring } from \"react-router-transition\";\nimport styled from \"styled-components\";\n\nconst glide = (val: number) =>\n  spring(val, {\n    stiffness: 174,\n    damping: 24,\n  });\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const AnimatedSwitch = (props: Props) => {\n  return (\n    <StyledSwitch\n      {...props}\n      atEnter={{ opacity: 1, offset: 100, zIndex: 100 }}\n      atLeave={{\n        opacity: 0,\n        offset: 0,\n      }}\n      atActive={{ opacity: 1, offset: glide(0) }}\n      mapStyles={(styles) => ({\n        opacity: styles.opacity,\n        zIndex: styles.zIndex,\n        transform: `translateX(${styles.offset}%)`,\n      })}\n    />\n  );\n};\n\nconst StyledSwitch = styled(Switch)`\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  & > div {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: #13b088;\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/back.7bf7a56f.svg\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport back from \"../assets/back.svg\";\n\ntype Props = {\n  name: string;\n  backPath: string;\n};\n\nexport const Header = ({ name, backPath }: Props) => {\n  return (\n    <Wrapper>\n      <Link to={backPath}>\n        <BackButton src={back} />\n      </Link>\n      <text style={{fontSize: 20}}>{name}</text>\n    </Wrapper>\n  );\n};\n\nconst BackButton = styled.img`\n  height: 20px;\n  top: 14px;\n  left: 16px;\n  position: absolute;\n`;\n\nconst Wrapper = styled.div`\n  color: #ffffff;\n  background-color: #13b088;\n  text-align: center;\n  line-height: 48px;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  flex-shrink: 0;\n  font-size: 20;\n`;\n","import { isIOS } from \"react-device-detect\";\n\nexport const getMediaStream = async (cameraId?: string) => {\n  if (\"mediaDevices\" in navigator) {\n    try {\n      // WebRTC adapter will polyfill this\n      return navigator.mediaDevices.getUserMedia({\n        video: cameraId\n          ? { deviceId: cameraId }\n          : { facingMode: \"environment\" },\n        audio: false,\n      });\n    } catch (e) {\n      alert(\"未能開啟相機鏡頭，請到相機設定進行設置\");\n      console.log(e);\n      return null;\n    }\n  } else {\n    alert(\n      isIOS\n        ? \"getUserMedia is not implemented in this browser, 請確保裝置在IOS 14或以上\"\n        : \"getUserMedia is not implemented in this browser\"\n    );\n    return null;\n  }\n};\n","import { any, hasIn } from \"ramda\";\nimport { useLocalStorage } from \"react-use\";\nimport constate from \"constate\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nexport const [UseCameraProvider, useCamera] = constate(() => {\n  const [hasCameraSupport] = useState(\"mediaDevices\" in navigator);\n\n  const [cameraId, setCameraId] = useLocalStorage(\n    \"preferred_camera_id\",\n    \"AUTO\"\n  );\n  const [cameraList, setCameraList] = useState<InputDeviceInfo[] | null>(null);\n\n  const initCameraList = useCallback(async () => {\n    try {\n      if (\n        !hasCameraSupport ||\n        !hasIn(\"enumerateDevices\", navigator.mediaDevices)\n      ) {\n        setCameraList([]);\n        return;\n      }\n\n      const deviceList = await navigator.mediaDevices.enumerateDevices();\n\n      const cameraList = deviceList.filter<InputDeviceInfo>(\n        (device): device is InputDeviceInfo => device.kind === \"videoinput\"\n      );\n\n      setCameraList(cameraList);\n    } catch (e) {\n      alert(\"Unable to list device.\\n\\n\" + e);\n    }\n  }, [hasCameraSupport]);\n\n  useEffect(() => {\n    initCameraList();\n  }, [hasCameraSupport, initCameraList]);\n\n  useEffect(() => {\n    if (\n      cameraList !== null &&\n      cameraId !== \"AUTO\" &&\n      !any(({ deviceId }) => deviceId === cameraId, cameraList)\n    ) {\n      setCameraId(\"AUTO\");\n    }\n  }, [cameraList, setCameraId, cameraId]);\n\n  return {\n    cameraId: !any(({ deviceId }) => deviceId === cameraId, cameraList || [])\n      ? \"AUTO\"\n      : cameraId,\n    cameraList: cameraList || [],\n    setCameraId,\n    hasCameraSupport,\n  };\n});\n","import React, { useCallback, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useRafLoop } from \"react-use\";\nimport { getMediaStream } from \"../utils/mediaStream\";\nimport { useCamera } from \"../hooks/useCamera\";\n\ntype Props = {\n  onFrame?: (imageData: ImageData) => void;\n};\n\nexport const MediaStream = ({ onFrame }: Props) => {\n  const { cameraId } = useCamera();\n\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const [loopStop, loopStart] = useRafLoop(() => {\n    const canvasElement = canvasRef.current;\n    const videoElement = videoRef.current;\n\n    if (\n      canvasElement &&\n      videoElement &&\n      videoElement.readyState === videoElement.HAVE_ENOUGH_DATA\n    ) {\n      const canvas = canvasElement.getContext(\"2d\");\n      if (!canvas) return;\n\n      canvasElement.height = videoElement.videoHeight;\n      canvasElement.width = videoElement.videoWidth;\n      canvas.drawImage(\n        videoElement,\n        0,\n        0,\n        canvasElement.width,\n        canvasElement.height\n      );\n\n      const imageData = canvas.getImageData(\n        0,\n        0,\n        canvasElement.width,\n        canvasElement.height\n      );\n\n      onFrame && onFrame(imageData);\n    }\n  }, false);\n\n  const initMediaStream = useCallback(async () => {\n    const videoElement = videoRef.current;\n    if (!videoElement) return;\n\n    console.log(\"cameraId\", cameraId);\n\n    const stream = await getMediaStream(\n      cameraId === \"AUTO\" ? undefined : cameraId\n    );\n    if (!stream) return;\n\n    videoElement.srcObject = stream;\n    videoElement.play();\n    loopStart();\n  }, [loopStart, cameraId]);\n\n  useEffect(() => {\n    const videoElement = videoRef.current;\n    initMediaStream();\n\n    return () => {\n      loopStop();\n      if (videoElement) {\n        const stream = videoElement.srcObject as MediaStream | null;\n        if (!stream) return;\n        const tracks = stream.getTracks();\n\n        tracks.forEach((track) => {\n          track.stop();\n        });\n\n        videoElement.srcObject = null;\n      }\n    };\n  }, [loopStart, loopStop, videoRef, initMediaStream, cameraId]);\n\n  return (\n    <>\n      <Video ref={videoRef} playsInline />\n      <Canvas ref={canvasRef} />\n    </>\n  );\n};\n\nconst Video = styled.video`\n  /* Make video to at least 100% wide and tall */\n  min-width: 100%;\n  min-height: 100%;\n\n  /* Setting width & height to auto prevents the browser from stretching or squishing the video */\n  width: auto;\n  height: auto;\n\n  /* Center the video */\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nconst Canvas = styled.canvas`\n  display: none;\n`;\n","import { FormControl, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport { isEmpty, isNil } from \"ramda\";\nimport styled from \"styled-components\";\nimport { Header } from \"../../components/Header\";\nimport { MediaStream } from \"../../components/MediaStream\";\nimport { useCamera } from \"../../hooks/useCamera\";\n\nexport const CameraSetting = () => {\n  const { cameraId, setCameraId, cameraList } = useCamera();\n\n  return (\n    <PageWrapper>\n      <Header backPath=\"/\" name=\"相機設定\" />\n      <FormWrapper>\n        <StyledFormControl>\n          <InputLabel id=\"cameraId\">相機選擇</InputLabel>\n          <Select\n            labelId=\"cameraId\"\n            id=\"demo-simple-select\"\n            value={cameraId}\n            onChange={(e) => {\n              setCameraId((e.target.value as string) || \"AUTO\");\n            }}\n          >\n            <MenuItem value=\"AUTO\">自動</MenuItem>\n            {cameraList.map(({ deviceId, label }) => (\n              <MenuItem value={deviceId} key=\"deviceId\">\n                {isNil(label) || isEmpty(label) ? deviceId : label}\n              </MenuItem>\n            ))}\n          </Select>\n        </StyledFormControl>\n      </FormWrapper>\n      <VideoContainer>\n        <MediaStream />\n      </VideoContainer>\n    </PageWrapper>\n  );\n};\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n`;\n\nconst VideoContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n`;\n\nconst FormWrapper = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nconst StyledFormControl = styled(FormControl)`\n  width: 100%;\n\n  &.MuiFormControl-root {\n    margin: 8px;\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/cross.d2bbc7f7.svg\";","export default __webpack_public_path__ + \"static/media/icon.61ed31dc.png\";","import styled from \"styled-components\";\n\nexport const ConfirmButton = styled.button<{ shadowed?: boolean }>`\n  display: block;\n  margin: auto;\n  margin-bottom: 16px;\n  font-size: 24px;\n  padding: 10px 0;\n  width: 80%;\n  border-radius: 48px;\n  flex-shrink: 0;\n  font-weight: 500;\n\n  ${(props) =>\n    props.disabled\n      ? `background-color: #D3D3D3;\n        color: #A1A1A1;\n        `\n      : `\n        background-color: #fed426;\n        color: #000000;\n      `}\n\n  border: 0;\n  outline: none;\n  ${(props) =>\n    props.shadowed ? \"box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.5);\" : \"\"}\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n`;\n\nexport const ModalConfirmButton = styled(ConfirmButton)`\n  font-size: 16px;\n  padding: 12px 0;\n  width: 90%;\n  font-weight: unset;\n`;\n","export default __webpack_public_path__ + \"static/media/checkbox.4e2450ab.svg\";","export default __webpack_public_path__ + \"static/media/checkboxChecked.7f6c2da0.svg\";","import React from \"react\";\nimport styled from \"styled-components\";\nimport checkbox from \"../assets/checkbox.svg\";\nimport checkboxChecked from \"../assets/checkboxChecked.svg\";\nimport { isAndroid } from \"react-device-detect\";\nimport { Checkbox } from \"@material-ui/core\";\n\ntype Props = {\n  checked: boolean;\n  onChange: (value: boolean) => void;\n};\n\nexport const CheckBox = ({ onChange, checked }: Props) => {\n  const handleClick = () => {\n    onChange(!checked);\n  };\n\n  return isAndroid ? (\n    <StyledCheckbox checked={checked} onClick={handleClick} color=\"primary\" />\n  ) : (\n    <IOSCheckBox\n      src={checked ? checkboxChecked : checkbox}\n      onClick={handleClick}\n    />\n  );\n};\n\nconst IOSCheckBox = styled.img`\n  height: 32px;\n  display: inline-block;\n  vertical-align: top;\n  margin-right: 2px;\n`;\n\nconst StyledCheckbox = styled(Checkbox)`\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 8px !important;\n  padding: 0 !important;\n\n  &.MuiCheckbox-colorPrimary {\n    color: #fff !important;\n  }\n`;\n","import React from \"react\";\nimport forbidden from '../assets/forbidden.png'\n\nconst DoseRecord = () => {\n\n  const dosed = false\n  const containerStyle = { ...styles.doseContainer, backgroundColor: dosed ? 'green' : 'rgb(185,47,38)' }\n  const dosedText = dosed ? '' : '未有儲存接種記錄'\n\n  return (\n    <div style={styles.container}>\n      <div style={containerStyle}>\n        <div style={styles.text}>{dosedText}</div>\n        <div style={styles.forbiddenContainer}>\n          <img style={styles.fullWidth} src={forbidden} id={'for'} alt={'for'} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\ninterface StyleSheet {\n  [key: string]: React.CSSProperties;\n}\nconst styles: StyleSheet = {\n  container: {\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1\n  },\n  doseContainer: {\n    borderRadius: 20,\n    height: (window.innerWidth * 0.6) / 0.86,\n    width: '60%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    paddingTop: 10,\n  },\n  text: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold'\n  },\n  forbiddenContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fullWidth: {\n    width: '40%',\n  }\n}\n\nexport default DoseRecord;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAw1BMVEX///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9ZxT1WAAAAQHRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlZW6RQAAAAlwSFlzAAAOxAAADsQBlSsOGwAAIABJREFUeJztndl64jgQhR3SZA/ZCNkNNEmgm3SYrDSdxJ/f/6kGTAADNtaRSotl/TczFw3YOie2VKoqeUFheLzf+ax2GvuD7afmx9XuSavf3jwIw4Neu9862e1+NJ+2B/tep/q5s/Go+1rV4em+AOlsfP64GTR3+0Ot2Tno7zYHXz8+N3RfvXTsNUDt+Paw3FxHZE9ivXl3eHtc03030rDRAI/H529rm6LKz7P58XZ+bOObwTIDXL5628J/9Om0tr9eL3XfIy32GKBW3b+C3vO8HFztV+913y0ZdhhgpzOQ+HefxPrgfMfXfdsU5N4Aj5/eUU+t+BN6R95n7qcF+TbAc+NKj/YzrhrPukdBiPwaoFItn+lWf8xZufquezS4yakBdrwP3bLP89HY0T0mfOTQAP5eua1b7yTOynu+7rHByZsB/IeypikfC73Bg697hEByZQD/ukwc4KOnV772dY8TQo4MULoz8sm/TPuu5OseLGbyYoDnN0Om/Gy03/KyOMyFASqdXd2K4ux2KrrHjYUcGOBnWUmIn56D8k/dY5eN6QZ43zrRraMIJ1umh4jMNkDpoq5bQlHqFyXdo7gSgw3gn7d0q0dD69zgLSNjDVD7Mn7Jz86mZ2xOmaEGuLzL6cQvjfqpoZlERhqg9KRbLxkcGTkZMNAA1Rwu+tnoVnWP7TKmGcA/V5zbpZb+ua97hBcwzAA/rJZ/xPoP3WM8j1EGqFqy7ltNq+rrHugYBhngNdcxP4STV91jPcMYAzxYO/VLYvdB93hPMMQA19qze1XTvdY95mOMMMBlU7ccOmgaERoywACVN91S6OLNgIwB/QY4tyjmj7LZ0T362g1QKszUP5kT3fFhvQbY2NYtgH62/2mVQKcBKje5T/egoH6jcyqg0QB7ucrzlcmZxsCQNgPU3NM/xra2jhO6DHBucIGXDjbPNQmhxwCXhtX2msCHnriQDgP4DcvyvWioN3wNYmgwwPGL3nE+e1l7+jUo373t//lqHDa+9u8G282rl1a/p3tR8nKsXg3lBnjc1zK2/Y/B19btw/G/lRna/vv95XPp9fCu2dJjhn3lCeSqDbCjOPI3Ev7vJ0+s5d/n+Z9fXdVx6pbqRiOKDXCo7g+r3r3b+hQvzKo8jx4I6tYs9UOCYQZQaoD7NTWD2H66qRLPqXfOB6ry1daUxgRUGmBPxfP05e6HrOD6+8PNh4pHwabKwKA6AzyWZQ9cfe3mQXox7rOKpqR36uaCygzwLHn21/1St4aqvf6RHMlqKWswosoAhzKHqz24VV58WTs/kjqhVTUXVGOAypG8kbryNIRPxnd1+0vilOBITWsJJQbY6csapbWO3g4c/oO81mV9JSEBFQb4IelZ+dExoW2/X3qTNCusq6gik28A/1TK6HT/M0H9b56/5OxvnPrSL126Ae5llHy0GsYd53V5I+Nd0JXuctkGKNEPS/3iU/JF8+HfSlgbtmVnDUs2wH/kI/JicuO136f0y4L/5F6yVAP4v4gHw/zWi48d8tnAL1/mBcs0QI349b9u8h//jJ/UzQ27MqNcEg1wSbs66r768q6VllqDNvCxLjFdUJ4BSqR7f0+mP/sX2CMteO7Ju3tpBqgSPgfrp3rLp7j4N6AbgLAurb+YLAMQbv70vnLx6l/mknIO3JB0kXIM4N+R3fjBHwOK6Hl5Jux4eedLuUQpBqiQvQDr+wYFfHk4ppsLNKX8JcgwQI1sKXyXc/lHlMjigy8yloMSDLBBtfwb5HDql8RDl2hA1iXsgNAb4JKo6rv5m/zStPFK9Ew8ow8IkBtgh2b35+yW+sL0ckuTVN4mTxKhNsAxTfhnP6crvxXQNMPapM5/IzZAiWQ37COnBzGv5p0kMnRAvD9Ma4BrivBf+y/pNRnEJ8V7oE7bYpTUAHsU+p/a9/Sf4n8RjFCdtHCI0gA/xG8u7OblyFVOSHqjUCaLEhqAQP+erk45CvlLMBkkdACdAfbE76ts8dN/Ru1CfKTo3gJkBhCf/73kbMufn2vhWCndTJDKACVR/XtbPtGl5IDHG2EHUK0GiQxwLNr3q2tJ3J+V36L5kgdEESEaA+yITmzefJLryBNfgkO2SRMtIzHApWD8v2fQIUrq+BQctTbJzhCFATYE9/+6xtV5qaEm2DLpjGLcCAxQE5zTFvDxP0HwNdAnyBARN0BFbK+7tyd+E/lF8DXwIp4lJmwAXyzpraiP/wmCr4GmL3oBwgYQy//dF76B3CP2GiiL/ryoAYTy/4v9+J8g9hoQrRcQNEBV5NqL/vifIPYaEMydEzOAUADYPf6niLwGBIPCQga4FAgA9ow5PtkEbgUcsCkUEBIxgEgAoOUe/zFqQrlifZFddAED+AL1Dt0cF/zRI6b/cDR9/t8WMIBA7euR8oMxTEZU/zD8xf/j/AYQ6P808Pkv2D7E9RfpLMxtgBL/1f7hvlobodBfYCnAa4B7/uiF5L5nOYNE/zBs89ZRcxrA509oUdEANz8Q6c8/EeQ0AHf/3wO3/I9Dpn8YnvJdAZ8BuEsANguT+csEof68j1YuA+zwRoD7FtX8E0Cqf1jnShLkMUCFtw3iiQUdXwih1X/458UTXeMxAO/5L1eFKPxhhlr/MGxyXAWHAXhTAJ5c+C8Ovf5c8SDcAM+cFyecu2IXMvQPQ7y2GjbAI+f5f07/OeToH7bgpyxsAM7zP5/Q37EbSfpz/J2hBuAsAr9y7/840vTHC8dBA9zz5QCduPl/HIn6h5vgUhs0AF/6Yt+t/+PI1D8M17CLwQzAtwLcdPG/OHL1R9eCkAH4QsAHLv4fR7b+YR1aCyIG4FwBuv2/ONL1H864kJAwYoB9rsuxrOmvIAr0D8M34IIAAxxzXYzL/4mjRP8wBNrHsBvA5yoDd/l/cRTpH774zJfEboAGz5UMOEbJXlTpj5SMMhvgkqcP2JHPM062ok7/sM5cLsZsAJ4et10XAI6hUP8w/GC9KlYDnHNcRMvVf8VQqn8YsnZdZjRAjeMgiJ6r/4yhWP+wx9hAitEA2xyX4AJAMYT0b/FUj2+zXRibAXg2gfcFhss6xPS/DzyOj7FtDDMZoMLRCVKkZNk6RPXn2oY9Y5qCMRmAo7e1mwDEENc/qHHUYjIF4VgMsMFx2a7/1wwC/bmqsessf4QsBuCYAboJwAwS/bkisSzzQAYDcHjPTQBmEOkfBBwtWT+zL4/BAHgWgJsAzCDTP6jhU/GT7OvLNgBHDNBNAKbQ6c/1KO5kXmCmASp4HjCSj2A5lPrzTAM2M9OxMw3wBv+omwBModWfZxqQ+ceYZYBL+CfdBGAKtf4804CsjOwsA+CeK+T5P4mQ6x8EP+HvySoZzzDANfyDbgIwQYL+PJUZGUdMZhgA7gbrJgATpOjPsSnQXX2Zqw3wgP5ar2DnP6YjSf/gEi7OWb0tv9oAu+iPbXENloXI0p9jLfiy8kJXGuCV9rcKhDz9Ax+OzK6clq80APxTrgpwjET9OVYCKwPCqwwAHwjk2sCMkao/x0Ftq6rzVhkAvY2eawMRIVn/oIImh7RWfNkKA8D9YFkzkS1Htv4cj+YVXWTTDeCjJwJlLDiLgnz98VadfT/1q9INAG8D4z3qbESF/sEGGgxIfzinGwB9AHC2K7cMJfrj5/X0U78p1QDoe6btZoCBMv2DAK3Vr6Z9UaoB0F0AdxBIoFB/uFvHbtoXpRkATT9irka1GXX644k6aadKpRngCfx+rsMKLEOl/vChDUcp35NiADQRyNUBKNYf36hJaRmRYgAw2njmZoCq9Ye3au+SvyXZADWwH4xrBadefzRbq57cMCDZAOB59jxHlViGev2DADy78SvxSxIN4IO1AK4XsA790ZXaZmLHpkQDgFFg1wtOi/5wfmBiPDjRAODtFD4PUJP+aDQocVc4yQDgoyVlelkcdOkPR2uSioWTDHABfWu96KdB6NM/2MF+7CLhKxIM8I7tNRY9BqRR/yD4Bf1aPSFck2CALehLDxj70dmKVv2D39jvJbRuTzAAlgtc8HbgevUPggH0gwn5wcsGwLKOC54Iqlv/4B/2k8t5+8sGwE6GTA4vFQXt+qO7NsshmyUDVKBtgKRpRXEwQH8wPfBgqXnkkgE60F0UOhHQBP3Rk5yWmgYtGQDbZGQ+l8BCzNA/qEGPgKXqzUUDYIfDF/lIaEP0R+N2i8n7iwbAUs0KXAxqjP7gsm3xpb1oAKgLUYFrgczRHwzctBc+vGAAbB+ouP2gTNIfnLcv7AgtGABaVa77tDeSH4zSH1y5L2zezhvAhwqPC9sPxiz9g+AU+f1Nf+6z8waA8gwPihoEMk1/cFd4vm/cvAGgMHBRE0GM0x9MD50PB88ZwIcOhwNOKLYJA/UPoFPF5t8BcwaA2gIWtCOYifqDadxz3fznDAC9AYo5BTRS/yD4g1zG3DsgbgDoDVDMfUBD9cfSAnp+7JNxA0DHQyYlGFqPqfqDXYPiAby4AaA3AMN5RNZhrv7YH2/8HRA3ALIPsKr1nK0YrH8QIO0CzmKfixkACiccyr0dEzFaf6yHdGxPOGYAD/mK4pWDma1/cI9cTlz12f9+AN9QvI1gw/XHunrFOjrNDFBB7qhwQQDj9ccOk5mt4WcGgBoDFq0e0Hz9sbZOs5YuMwMgi8CiNYXLgf5YYtCssf/MAMgiMPtEUqvIhf7BDXBRs8SwqQGgdOBiFYTmQ39MwelCcGqABvDpNVX3ZAQ50R+LBU11n/4PklNQqDdAbvSHUvqvJh+aGOARua0ibQTmR38spXvSMmxigE/gs1dpV2AhOdIfSwuZZAZODOABn20ovS2t5El/bCU/Ff77v8gp4cVJBsyX/tCe8KS768QAQDLQYnGRveRM/+ARqBDpfX/m2wDIVnBhGoPmTX+sadh3JODbAEh5WVFag+dPfyg9/Hst/20ApNlUQcKAOdQ/qADNIr6TOr8NAJwRV5BUgDzqD7WP/j5JbmyAGnBzxegLlk/9odX8+CLHBkByAQqxCMyp/lB17/gowbEBgE5TdW03p5C86g+ldb1FnxgbANgJKsJOYG71h7JCxpO5sQGAAMKNzttTQ471R1q8HEQfiAyApJM9aL0/FeRZ/+AvcK1Rk8fIAMgZhNZvBedaf6h/fDQLjAwAnBJnfVeAfOsfBMCWcLSgjwywzf4h2/vC5F1/ZFs36vMaGQC4acs3AnKvPxIKigp8RwZA0sHsrgnMv/5QKGiUFjYyAHD8nN25ABboD4WCRq2eRwYADgq1uj24DfpDoaDRUaIjAwDpxDaHgezQHwkFjTqHjwwA1IVb3B7aEv2RUNCoxHNkAGDpaO8JIbboj4SCNoPIAEAygL1bgdboD/091yIDAIsAa7OBLNIfyQr6GRkAyCS0NQ5ok/5I8/jbyAAN9g9Y2hnGKv2D/9ivvREZAFg3lHTfnBTs0h/Z2y1HBgC2D6zcC7ZMf6TIpxkZgD0lvK/73mRgm/5IMHg9MgD7v7exN5R1+kPrwJEBNtj/uYVVgRbqj7SM/Dc0ANAaYvms+bxjo/7IWbKfQwMAseO/um+NGiv1R/rF/R0aAEgItO2MADv1R/6kb4YGAAqDN3TfGi2W6o+81AdDAwBhAF/3rZFiq/7ItH5taIBd5n9tVxjAWv2DgL1LwMvQAOz9Ja0KA1isP5Dl3R8agL0u0KYwgM36A0eIHQQekBNuUWsIq/VHNoQfPeCsGXs2g+3WH9kQ3vCAJuPWVAVZrj+yIfzsAYtGWyrDbdc/+Ml+O58e0B7oOfun84D1+iMZAVUPaBFpR12g/fojDT86XoP9Hz9m/7T5FEB/5BBJz2OvC7OiKKAI+iM5QW8e+17QWfYvG08h9EeSvAYee3cQC7rDFER/YDNg23ti/rfN7B82nKLoD2QFHnnsu8Hbum9LlMLoD2zwNT322vBfum9LkOLoD2wHfnjsXWJzvhlYIP2BHI+ux/5vy9k/bDBF0h9o+bHrsbeUOdV9WyIUSn8gIaDlsReGvem+LQGKpT/Q+bPlsU8Y93XfFj8F0x/I9O57beZ/m98OYUXTH0gJanvsMYPcZoQVTv/gD/Pt9Tz2nNC8HhlcPP2Baq8Dj30sDnXfFh8F1D84ZL9Dj/2f5tMARdQfyQoFXgG5nAMUUn+g71fdYz82PI/LwGLqDxwa0AOWgTlsElhQ/YEOAW0gEJS/zaCi6g8sA/se+xjlLh+gsPoDBwCsA5tBecsIKq7+QCSwBWwH56w6vMD6A81fdz32nmK7um8Losj6A5tBXSAlrKX7thAKrT/QKO4DSArNU11AsfUH8gGaQFr4pu7bYqfg+gONv46AwpD8lIYVXX8gKfQJKA0Ldd8WK4XXH6gLGADFoXk5LcDpDzT+ekPKw/MxNk5/5DBoD2kQkYtDA53+UKvQjm0tYpz+Q4DGX1WkSdRP3TeWjdN/BHCE/KcHNBQy/+Bgp38EcBLkswe8L4xPCnT6j9liv+sNpFWs6cWBTv9vgDNAHpFm0YYnBDj9J5SZb7sOtYs3ezvQ6T+F/fjoPnRghNGbAU7/GewV3y/YkTEGnxnk9I/BfudN7NAoc08Nc/rHABZ2F9ixcee6by0Np3+cEvu9f2EHR5raIcDpP8cP9psfHRwJ+MXQRnFO/3k89rv/xA6P7uq+tUSc/guwhwGiw6N99n9uZFag038R9jBAdHw8sGoMK7rvbRmn/xLsob1+ZAAgEGBeRoDTfwngtIBmZAD2OiLzNoSd/ssAs/pyZIAG+wdM2xB2+icAJPk1IgMASWGGbQg7/ZMAnui3kQGO2T+wpvvm5nD6J8Le/32U5Dc0QI39Az3dNxfH6Z8Me4JHWIsMABwwEv7WfXcznP7JAIcGjv6eRwZgrxA3aDvI6Z8CcHDwqOXHyABAdZgxncKc/mkAu7ujOf3IAOfsHznRfXvfOP1TYa/3j57nIwMAywBDgsFO/3TO2EdiVOkzMgCQGW7GEfJO/3SAzd3oMOiRAZDtIBMaBjv9VwBkg6yP/n1kAPYuISbUBjj9V8HeIjB8Gv37yADAxFF/KMjpv5IX9sGInuaRAYClo/ZQkNN/JcBecFgdfSAyABA80h0KcvqvBqgMHzf8iAyAhI/1hoKc/hkAb/NxodfYAOz9YvWGgpz+WQD5gOMU37EB9oFx1BgKcvpnAjzLxyfAjA0A5IRoDAU5/TNBgrq30SfGBrgHPqctFOT0z8YDhmQ8ImMDAJnE2kJBTn8GgGyg/vgT3wYASoTreiYBTn8G3oExuRh/5NsAQCZp+EPHrTn9WUDmcp3xR74NADSL01Ii6vRnAniQT4p8vg0QsJ8fGR48Kr8xpz8b7IdATjd1JgYA6sPCPdX35fRnA2gRO53LTwzgAZ9VfYKk05+RBjAuU+G//wu0DA7bam/L6c8KkN4dXn9/ZmIAJC1MbbMopz8ryCJwGtGfGAAJIYRvCu/K6c8MkN09a/YyNUAD+HRf3U05/dlBJvKNyYemBkBmkOoaRTj92QFqPMPwePKpqQGQNaSyfnFOfwAkmjubx88MAPSWUpUV4vRHAHJBYiv5mQGQOLKa86Oc/gjQG6A6/djMANAiopF0CdR35PRHAI4JiR8BOTMAFEZQ0DLS6Y+BrOOvZh+LGaCBjLD0AXb6YyA1gWFM9dj/QgtB2e8Apz/IITJAsWV8zABIYbHsWJDTHwUZsPhmTtwAyEJQ7p6w0x8F6A45v50bN8Ae8iVHEu/G6Q+D5ALN/fHGDeADaUGjTuOycPrDVOrAEPXiKV1xA2A2+iPrZpz+OFAQYC6hZ84AD8jXbPpy7sXpzwHQFWBh+jZnAOwdICc93OnPAVIRFvb8+EfnDICtAz5k3IrTnwegP3TUIz7GvAGQ9gJhuEN/J05/HipATfBide+8AXygbbCMXhFOfy6QTIDFudu8AbBnSY+6StDpzwfQ5m/pz3bBAEh2+LS8jAqnPx9Ij6+llO4FA0CJYcSJQU5/TpCN4KWijkUDAJ3Dw3GzWSqc/pxAa8ClU38WDQDtCU9qzClw+vMC9HkNlxO6Fw2AxZTqNaq7cPrz8g8aqpfFjy8ZACkvoasRcvpzAzQHDhPm7UsGgPaVwvoGyU04/bl5h4JAy/19lgyAhYNpgkFOf348aLCWK/uXDfATG3+CtACnPz8VaP8uYdm2bIDgBPpK8W4RTn8BbrDRWv6CBANAyQXi/eOd/gLUsAfA1vI3JBjgHZoGijYNc/qLgDR5Tl61JxgguMBUENoVdvqLcA8tARL/VpMMgO0IjY+e4cTpLwQWA0hs7ZNkAKjIIIw1G4Bx+gsBlYMlTgFTDIBFA/kPlXf6i4GFbJJ37xMN8AglBoVhie/6nf5iIEc9DdlM7PCaaADk5JkRV4lfkoXTXxCkKVSYdtBDsgFq2Epw2nUQwekvCNTSJXXnNtkAWG5gGO7il+/0F6QCHPIxImXXJsUA4OslfEUv3+kvyh9w0FIitikGCI6wbz8DE4Sd/qL8BgctrZo7zQBQvXmIZoY4/YVBmsKNSOvvnGaAYBf8ASQa5PQXBjglPiJ1lpZqAHCOuZxslo7TX5gKlL4fTg4JTCDVAMhJchGHrBfv9BcHy95f1dIp3QBgPDg8YEwPdPqLg5zxFZF+5nu6AXz0EcB2oqTTnwCoFmhI30/9qnQDwPOMWAPadJz+BKAP5/Bv+netMAC6Kxy2s4MBTn8C3sG9uuR94G9WGeAWVSgzR9zpTwEYp1+xBAhWGwDMDw4zi0Wd/hRgxaBDTvwV37bSAFjhedZPOf1pgKo3R6ycm600AP5bq77O6U8CmLWfFaJbbQCoceCIevpRIk5/EjawSoBwsSnUIqsNEHTRX0vND3T6k+DDimSc7ZFhAKxv3IiUiLDTnwasEmRERrZWhgHQvLMwZSXg9KcBaugekRWfzTIAmncQhmcJuWdOfxrwCUBm6WaWAeB9pyTPOf1p8NE9AIZEnUwDwHHH5fOEnP5E4BOAzfes78w0ANaHdMx8oYjTnwh8AsDQyjPbAHhAeH4a4PQnYgN/FjN08mQwAFgsPCI2DXD6E4FHANIzQWMwGADsRBgxnQY4/alA6wBCtsJ9FgP8AwvFRnxPA5z+VHBMAOosDbxYDAB2IopoR9MApz8VHBMAtmO9mAwAJyGH42mA058KjghA2E4sB1+EyQB4YkA42hl2+pPBMQFgrNdkMwDPPDC8dfpTAW/Lh8ytmxgNcI8HoYVw+sfhmQD0GBu5MxoAz0QWwukfp4KH4laVgszDaoDgg1zldJz+cXgiQOyHOjIb4JIjGMCJ0z+OD7ZqiKgzN/BlNkDQoNY5Daf/HGAvuDHssrL/Sx9OEebD6T8HRxAuDF985u9nNwBekMCF038OOAk8AjjNDTAAR3IQjtN/Drg6LwLp14MY4FEkssOG038OPCk7GkSmGPA3iAHwvgTwpTv94xxj3eC/qS8eDbgSyADBIbXi8zj957jk2IMLgV49EZgB4OZkEE7/Oe6hQ8GnMIeAxoAGuOeISrPi9J+DKwAchj1wFEEDcG0Ms+H0n4MnA2AE2rQXNQBfYIoBp/88T3zDWEZ/BzaApLWg038euA3M9zCCPZs5DCAnIOj0n4dTf47jm3ADyFgLOv3n8HkSsEYsFuUxwGEAjpLxDJz+c1Q453+MrTrn4TEAelZFFk7/Oe751n9h2M+sBE2AxwDBM2lyiNN/jku++A8aAp7AZQC8i6zTn5Vj7lDbin6wK+AzAHpmqdOflWvu9OvMNq3JcBqAK1HR6Z8J3/7/iK7P94ucBgju+XaqnP4r4cv/GdHmHUheA8CnSjn9s+HK/xvD0AkgGW4DBP85/WnxBbZZsByAOPwGCH45/Snhyv//5hf/zwoY4FFwIuj0j1MRGM0ukgS4gIABghpvyMLpv8QGb/hvSJ+xDjQREQMEv0Xyg1YdY1E4HgRGspfeoZ0BIQMEJZGYsNhP24TP0/9hQr2U/QMrEFSBP3AxZE3k0WURG7y7fxGCT1LRP8OGyLW3xcxrCXtCibYcKQBzCD+HxXIE3WtA6PHPkQO4iLACvlh6SNFfA2KP/7Dpi16A+J9gRaxsvNivAbHHf/gC54AuQfAM5qxgmeL54teQT3y8//scfYJQCsVLeONM7D6K+hoQfPyHZyytYLMgmYX9FtwbLuZrYE+w9V6buQ/QKmim4TuiJYPFew2IPv7D3g7JdRCtw/gq2WNckdg5P2yIplQd4DUgiVAtxD+FE4W/fKJLyQNbop1X69wZIAuQRWKuhR2wTnVPxnO8KzpW9YzjINmhC8URFI4PCrEceCcosEaLwNMhjMUSFAts8uW254pzgh4bhMNEGYynKBf5ENrcNp8dwbV/BOWfCeluzCtByVjd5hVhhaKgpk73/A+IDUAwExzSsnYy+IOimKL+QHpNxPuxJdF4QESZp8zVeH6TtFg7IP7zoN6QPyY5WsTCyWBFbN9/Qo8o/jOFPCNjh6hmrEp9YXqp0vRUaNPEf2PQp+RcCu4NTnjZI780bVwSNVU5ow+YS8jJ+ieYHzClSxbu0ssGVWu9/gb9xclIyrsnO1riw4J94nuyXgovMkpppGRlVujaSDWpJz2Kqe2TrIuioRDP/0pATlquSKHrIk/k8x51VG7ozlss+1IuUVZedoPsxsPwV07Dw+8e4XGbovn/aUhLzL+l7CRWpsh+U8y/U7KHfxjWpVVSyqvMKJF2lj+iDYBK55i32WciPXmTYYmlOb+ploNj1g/zky3wSrHnN6Mv8R0oszarRtVK7Jv6IBdLgkqH1vlhV6bzpRbnPQp3kVlk91zKWoiQ4zvqg9Z/CfT/yEZydSZ9Z/Hem8FrgsoW/fGq/P2fmJBdnlui2RuaY63qS75qPkoX9Adst2UnR0ivzxZOgE8cli/j1oUbhzKOUulKiP7PI79A3+c9/WI1L55BEcLaFu20f8KdL/3SVXRo+EH/ZIxY3wcOSZZH7fxDzv3VVaTFKGnR8Ux8wsRFUCfKAAAD/klEQVSM9umDr+IOUnk/Jz8/ZUKfq/8/ipoeLYTbg0v0Lqq6lobPDTlP/oimmsRIVU16GvJGavisfPqrPEr4Xh0QpT4lI2vzZxFlXZqeJZ89/3Gzp84Ex57EP/0RLWUxT3VtuiqyzhyNDVv5fMeXfRvXX2uE23zJlNW91FT2aXuVePL0lIPm17Wst+fGj1P6SN8yPdLSnwyUNuq7l7ReWuKk/Jc4f/by9Wtb6jt/xofSLtqKOzUeSgoJJLDZPP1vb0f8WVopdU670h/6U+qSY/+LqG7VKXsuuET76uLmb2nDxy91o/TDK69JC2Ek01Ky+I+hvFfr45vaEf2mfnI0fCCUdi7vVz8THjeer2+3hsIT7+kz8iZ16zcJDc16j1VMpFZR3+yf7H4cbQ9O/3iH/x16N3/2T+/KF9vN3b66R30SLxoSXnR0a/Y9dTOBHKGnM4Kedt2XqpYDOeJDT6M8Xf3az6kTp3JO71yTENoa9t+T5k3nnSdtJ2hpPLHhVVFgxXzaKkN/C+g8sqPyx00Gh9T/6Mx01ntmyz/3Hgif9KY36j6051PgwEQbONHdEk23AYKgo2KP0FA2O77u4ddvgOBdT3DYAN4MaIdngAGC4LfElEFzaRpxRIIRBgiCaxnlI0bTNaTe3RADBMGe7i0ipZjTA88YAwTBa2EWBCcGdcE0yABBcKs6W0QLrVtf90DHMMoAgf9XTx6GQvqGtUE2ywBDC3QU52CppX/u6x7hBUwzwJBb4SOVTGVXWq8vfgw0QBB8PumWSgZHuqO+iRhpgCD4fWfZRmH9zoiwzzKGGiAIal8W7RFsfhnb4s5YAwTBY8eSVWGrozzZmx2DDTDkU0LbJcXUfxn56p9itgGGb4L/ch0fbP1nwIbfSkw3wJDSQG+5Bjf1gRE9jFaTAwMEwXsnhztFLx3Tm5pG5MIAQ55PJXSclEf7VHWRJy95McCQz7ucLAw378ye982RIwMEgf9QNr6gqFfW3LgOJFcGGOLvDQz2QG+w5+seIZC8GWCI/zowcj7QHrz6uscGJ4cGGPEsu08bypWXl1nfAjk1wJD3W1MeBO3BrenhnnTya4ARz572bOJuIxfn2KSSbwMMebz+amqaFvaaX5+5CPasIvcGiHjuXCjOJOtfdJ593bdNgR0GGHFffVPTzq/efatq6+dAjj0GiLisfj1JTCxef/qqGnxmFQ+WGSDi8ef56QfxvKD3cdr5aXBeBzc2GmBM7edto7zWF80o6TfLjduf9jzyF7HXABP+ff69uVh7OYOcUO+/rF3c/P007nAycuw3wJTHjefPasd7G2wfNT+6u61Wv90bzhrrvXZ/vbXb/WgePQ3evM7t5/OGjc/6FP4H/Mp8rJYKyfgAAAAASUVORK5CYII=\"","import styled from \"styled-components\";\nimport React from \"react\";\nimport TextareaAutosize from \"react-autosize-textarea\";\n\ntype Props = {\n  value: string;\n  onChange?: (value: string) => void;\n  placeholder?: string;\n  readOnly?: boolean;\n};\n\nexport const Place = ({\n  value,\n  onChange,\n  placeholder,\n  readOnly,\n  ...rest\n}: Props) => {\n  return (\n    <StyledInput\n      value={value}\n      placeholder={placeholder}\n      readOnly={readOnly}\n      onChange={(e: any) => {\n        onChange && onChange(e.target.value);\n      }}\n      async\n      {...rest}\n    />\n  );\n};\n\nexport const StyledInput = styled(TextareaAutosize)`\n  text-align: center;\n  font-size: 32px;\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  margin: 4px 0;\n  color: #fed426;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  width: 100%;\n\n  padding-left: 0;\n  padding-right: 0;\n  line-height: 36px;\n  font-weight: 500;\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import { Moment } from 'moment';\nconst global = {\n    place: '',\n    startTime: undefined as Moment | undefined,\n}\nexport default global","export default __webpack_public_path__ + \"static/media/crossBlack.aafc0aee.svg\";","export default __webpack_public_path__ + \"static/media/greenTick.2e9be05d.svg\";","import React, { useState, useEffect, useMemo } from \"react\";\nimport Modal from \"react-modal\";\nimport crossBlack from \"../../assets/crossBlack.svg\";\nimport greenTick from \"../../assets/greenTick.svg\";\n\nimport styled from \"styled-components\";\nimport { ModalConfirmButton } from \"../../components/Button\";\nimport { disableBodyScroll } from \"body-scroll-lock\";\nimport { Dayjs } from \"dayjs\";\n\ntype Props = {\n  isModalOpen: boolean;\n  onCancel: () => void;\n  onConfirm: (value: number) => void;\n  selectedAutoLeaveHour: number;\n  date: Dayjs;\n};\n\nexport const AutoLeaveModal = ({\n  isModalOpen,\n  onCancel,\n  onConfirm,\n  selectedAutoLeaveHour,\n  date,\n}: Props) => {\n  const [autoLeaveHourTmp, setAutoLeaveHourTmp] = useState(\n    selectedAutoLeaveHour\n  );\n\n  useEffect(() => {\n    setAutoLeaveHourTmp(selectedAutoLeaveHour);\n  }, [setAutoLeaveHourTmp, selectedAutoLeaveHour]);\n\n  const handleConfirm = () => {\n    onConfirm(autoLeaveHourTmp);\n  };\n\n  const toDate = useMemo(() => date.add(autoLeaveHourTmp, \"hour\"), [\n    date,\n    autoLeaveHourTmp,\n  ]);\n\n  const disableScroll = () => {\n    const root = document.querySelector(\"#scroll\");\n    if (!root) return;\n    disableBodyScroll(root);\n  };\n\n  return (\n    <Modal\n      isOpen={isModalOpen}\n      onRequestClose={onCancel}\n      style={{\n        overlay: {\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n        },\n        content: {\n          outline: \"none\",\n          border: \"0\",\n          padding: \"16px\",\n          borderRadius: \"8px\",\n          width: \"240px\",\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          height: \"370px\",\n          overflow: \"hidden\",\n        },\n      }}\n      ariaHideApp={false}\n      onAfterOpen={disableScroll}\n    >\n      <CrossWrapper>\n        <Cross src={crossBlack} onClick={onCancel} />\n      </CrossWrapper>\n      <Title>設罝自動離開時間</Title>\n      <HourListWrapper id=\"scroll\">\n        <HourList>\n          {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((hour) => (\n            <HourListItem\n              onClick={() => {\n                setAutoLeaveHourTmp(hour);\n              }}\n              key={hour}\n            >\n              + {hour}小時\n              {autoLeaveHourTmp === hour && <SelectedTick src={greenTick} />}\n            </HourListItem>\n          ))}\n        </HourList>\n      </HourListWrapper>\n      <TimeWrapper>\n        <div>於{date.format(\"MM-DD HH:mm\")} 進入場所</div>\n        <div>於{toDate.format(\"MM-DD HH:mm\")} 自動離開</div>\n      </TimeWrapper>\n      <ModalConfirmButton onClick={handleConfirm}>確認</ModalConfirmButton>\n    </Modal>\n  );\n};\n\nconst Cross = styled.img`\n  height: 20px;\n`;\n\nconst CrossWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n`;\n\nconst Title = styled.h1`\n  font-size: 20px;\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 0;\n`;\n\nconst HourListWrapper = styled.div`\n  overflow: auto;\n  height: 180px;\n  padding: 0 8px;\n`;\n\nconst HourList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n`;\n\nconst HourListItem = styled.li`\n  line-height: 40px;\n  border-bottom: 1px #eeeeee solid;\n  padding: 0 8px;\n`;\n\nconst TimeWrapper = styled.div`\n  font-size: 12px;\n  text-align: center;\n  padding: 16px 0;\n`;\n\nconst SelectedTick = styled.img`\n  height: 32px;\n  position: relative;\n  float: right;\n  top: 4px;\n`;\n","import React, { useMemo } from \"react\";\nimport Modal from \"react-modal\";\nimport crossBlack from \"../../assets/crossBlack.svg\";\n\nimport styled from \"styled-components\";\nimport { ModalConfirmButton } from \"../../components/Button\";\nimport { Dayjs } from \"dayjs\";\n\ntype Props = {\n  isModalOpen: boolean;\n  onCancel: () => void;\n  onLeaveNow: () => void;\n  onLeaved: () => void;\n  place: string;\n  date: Dayjs;\n  autoLeaveHour: number;\n};\n\nexport const LeaveModal = ({\n  isModalOpen,\n  onCancel,\n  onLeaveNow,\n  onLeaved,\n  place,\n  date,\n  autoLeaveHour,\n}: Props) => {\n  const shouldDisplayAutoLeave = autoLeaveHour !== 0;\n\n  const toDate = useMemo(() => date.add(autoLeaveHour, \"hour\"), [\n    date,\n    autoLeaveHour,\n  ]);\n\n  return (\n    <Modal\n      isOpen={isModalOpen}\n      onRequestClose={onCancel}\n      style={{\n        overlay: {\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n        },\n        content: {\n          outline: \"none\",\n          border: \"0\",\n          padding: \"16px\",\n          borderRadius: \"8px\",\n          width: \"240px\",\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          height: shouldDisplayAutoLeave ? \"430px\" : \"390px\",\n          overflow: \"hidden\",\n        },\n      }}\n      ariaHideApp={false}\n    >\n      <CrossWrapper>\n        <Cross src={crossBlack} onClick={onCancel} />\n      </CrossWrapper>\n      <Msg>你已進入場所</Msg>\n      <Place>{place}</Place>\n      <Time>{date.format(\"YYYY-MM-DD HH:mm\")}</Time>\n      <Title>你現在要離開嗎？</Title>\n      {shouldDisplayAutoLeave && (\n        <AutoLeave>於{toDate.format(\"MM-DD HH:mm\")} 自動離開</AutoLeave>\n      )}\n      <ModalConfirmButton onClick={onLeaveNow}>\n        是的，我現在要離開\n      </ModalConfirmButton>\n      <GreenButton onClick={onLeaved}>我已經離開了</GreenButton>\n    </Modal>\n  );\n};\n\nconst Cross = styled.img`\n  height: 20px;\n`;\n\nconst CrossWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  margin-bottom: 8px;\n`;\n\nconst Title = styled.div`\n  font-size: 20px;\n  text-align: center;\n  margin: 64px 0;\n  font-weight: 500;\n`;\n\nconst GreenButton = styled(ModalConfirmButton)`\n  background-color: #13b088;\n  color: #fff;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n`;\n\nconst Msg = styled.div`\n  text-align: center;\n  font-size: 16px;\n`;\n\nconst Time = styled.div`\n  text-align: center;\n  font-size: 14px;\n`;\n\nconst Place = styled.div`\n  color: unset;\n  text-shadow: none;\n  text-align: center;\n  font-size: 28px;\n  font-weight: 500;\n  line-height: 48px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n`;\n\nconst AutoLeave = styled.div`\n  font-size: 12px;\n  text-align: center;\n  padding: 12px 0;\n`;\n","import React, { forwardRef, useImperativeHandle } from \"react\";\n\nimport styled from \"styled-components\";\nimport Picker from \"pickerjs\";\nimport \"pickerjs/dist/picker.min.css\";\n\nexport type DatePickerHandler = {\n  init: () => void;\n};\n\nexport const DatePicker = forwardRef((props: any, ref: any) => {\n  // mount effect wont work on model, need to call this after onAfterOpen event\n  useImperativeHandle(ref, () => ({\n    init: () => {\n      const ele = document.querySelector(\n        \".js-inline-picker\"\n      ) as HTMLElement | null;\n      if (!ele) return;\n      new Picker(ele, {\n        inline: true,\n        rows: 2,\n      });\n    },\n  }));\n\n  return (\n    <Wrapper>\n      <div className=\"js-inline-picker\" />\n    </Wrapper>\n  );\n});\n\nconst Wrapper = styled.div`\n  & .picker {\n    font-size: 12px;\n  }\n\n  & .picker-dialog {\n    border: 0;\n  }\n\n  & .picker-cell:before {\n    background-image: unset;\n  }\n\n  & .picker-cell:after {\n    background-image: unset;\n  }\n\n  & .picker-picked {\n    color: unset;\n    border-top: #13b088 1px solid;\n    border-bottom: #13b088 1px solid;\n  }\n\n  & .picker-cell {\n    padding: 0 4px;\n  }\n\n  & .picker-item {\n    padding: 3px 0px;\n  }\n\n  & .picker-cell + .picker-cell {\n    border: 0;\n  }\n`;\n","import React, { useRef } from \"react\";\nimport Modal from \"react-modal\";\nimport crossBlack from \"../../assets/crossBlack.svg\";\n\nimport styled from \"styled-components\";\nimport { ModalConfirmButton } from \"../../components/Button\";\nimport { DatePicker, DatePickerHandler } from \"../../components/DatePicker\";\n\ntype Props = {\n  isModalOpen: boolean;\n  onCancel: () => void;\n  onConfirm: () => void;\n};\n\nexport const TimePickModal = ({ isModalOpen, onCancel, onConfirm }: Props) => {\n  const datePickerRef = useRef<DatePickerHandler>(null);\n\n  const initPicker = () => {\n    datePickerRef.current && datePickerRef.current.init();\n  };\n\n  return (\n    <Modal\n      isOpen={isModalOpen}\n      onRequestClose={onCancel}\n      style={{\n        overlay: {\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n        },\n        content: {\n          outline: \"none\",\n          border: \"0\",\n          padding: \"16px\",\n          borderRadius: \"8px\",\n          width: \"240px\",\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          height: \"280px\",\n          overflow: \"hidden\",\n        },\n      }}\n      ariaHideApp={false}\n      onAfterOpen={initPicker}\n    >\n      <CrossWrapper>\n        <Cross src={crossBlack} onClick={onCancel} />\n      </CrossWrapper>\n      <Title>你是什麼時候離開？</Title>\n      <TimePickerWrapper>\n        <DatePicker ref={datePickerRef} />\n      </TimePickerWrapper>\n      <ModalConfirmButton onClick={onConfirm}>確認</ModalConfirmButton>\n    </Modal>\n  );\n};\n\nconst Cross = styled.img`\n  height: 20px;\n`;\n\nconst CrossWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n`;\n\nconst Title = styled.div`\n  font-size: 20px;\n  text-align: center;\n  margin-top: 24px;\n`;\n\nconst TimePickerWrapper = styled.div`\n  border-bottom: 1px #eeeeee solid;\n  border-top: 1px #eeeeee solid;\n  padding: 32px 0;\n  margin: 16px 0;\n`;\n","import dayjs from \"dayjs\";\nimport moment from \"moment\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport cross from \"../../assets/cross.svg\";\nimport icon from '../../assets/icon.png';\nimport tick from \"../../assets/tick.svg\";\nimport { ConfirmButton } from \"../../components/Button\";\nimport { CheckBox } from \"../../components/CheckBox\";\nimport DoseRecord from '../../components/DoseRecord';\nimport { Place } from \"../../components/Place\";\nimport global from \"../../utils/global\";\nimport { AutoLeaveModal } from \"./AutoLeaveModal\";\nimport { LeaveModal } from \"./LeaveModal\";\nimport { TimePickModal } from \"./TimePickModal\";\nimport './index.css';\nimport { trim } from 'ramda';\n\nexport const Confirm = () => {\n  const browserHistory = useHistory();\n  const browserLocation = useLocation();\n  const [autoLeave, setAutoLeave] = useState(true);\n  const [autoLeaveHour, setAutoLeaveHour] = useState(4);\n  const [isAutoLeaveModalOpen, setIsAutoLeaveModalOpen] = useState(false);\n  const [isLeaveModalOpen, setIsLeaveModalOpen] = useState(false);\n  const [isTimePickModalOpen, setIsTimePickModalOpen] = useState(false);\n  const [second, setSecond] = useState(0);\n\n  const timerStart = () => {\n    setSecond(moment().diff(global.startTime, 'second'));\n    setTimeout(() => {\n      setSecond(moment().diff(global.startTime, 'second'));\n      timerStart()\n    }, 1000)\n  }\n\n  useEffect(() => {\n    if (global.startTime !== undefined) {\n      timerStart()\n    }\n  }, [timerStart, global.startTime])\n\n  const hour = () => {\n    return Math.floor(second / 3600)\n  }\n\n  const min = () => {\n    let secondRemain = second\n    secondRemain = secondRemain - (hour() * 3600)\n    return Math.floor(secondRemain / 60)\n  }\n\n  const sec = () => {\n    let secondRemain = second\n    secondRemain = secondRemain - (hour() * 3600)\n    secondRemain = secondRemain - (min() * 60)\n    return secondRemain\n  }\n\n  const place = useMemo(\n    () => trim(new URLSearchParams(browserLocation.search).get(\"place\") || global.place),\n    [browserLocation.search]\n  );\n\n  useEffect(() => {\n    // if (!place || isEmpty(place)) browserHistory.push(\"/\");\n    if (place) {\n      global.place = place\n      timerStart()\n    }\n    if (global.startTime == undefined) {\n      global.startTime = moment()\n    }\n  }, [browserHistory, place]);\n\n  const date = useMemo(() => dayjs(), []);\n\n  const handleSetAutoLeaveHour = (value: number) => {\n    setAutoLeaveHour(value);\n    setIsAutoLeaveModalOpen(false);\n  };\n\n  const handleLeavePage = () => {\n    setIsAutoLeaveModalOpen(false);\n    setIsLeaveModalOpen(false);\n    setIsTimePickModalOpen(false);\n    global.startTime = undefined\n    global.place = ''\n    browserHistory.push(\"/\");\n  };\n\n  const handleLeaved = () => {\n    setIsLeaveModalOpen(false);\n    setIsTimePickModalOpen(true);\n  };\n\n  return (\n    <>\n      <PageWrapper>\n        <Header>\n          <img style={{ width: 100, height: 100 }} src={icon} />\n          <Link style={{ position: 'absolute', top: 0, right: 10 }} to=\"/\">\n            <Cross src={cross} />\n          </Link>\n        </Header>\n        <MessageWrapper>\n          {/* <Msg>你已進入場所</Msg> */}\n          <PlaceWrapper>\n            <Place value={place || \"\"} readOnly />\n          </PlaceWrapper>\n          <Time>{date.format(\"YYYY-MM-DD HH:mm\")}</Time>\n        </MessageWrapper>\n        <DoseRecord />\n        {/* <TickWrapper>\n          <TickWrapperInner>\n            <Tick src={tick} />\n          </TickWrapperInner>\n        </TickWrapper> */}\n        {/* <div style={{ flex: 1 }} /> */}\n        <ActionGroup>\n          <div style={{\n            backgroundColor: 'white',\n            width: '75%',\n            height: 60,\n            marginBottom: 15,\n            borderRadius: 10,\n            justifyContent: 'center',\n            alignItems: 'center',\n            display: 'flex',\n            fontSize: 40,\n            color: 'black',\n            fontFamily: 'Morris Sans',\n            fontWeight: 100\n          }}>\n            <div style={{ marginBottom: 5 }}>{hour().toString().padStart(2, '0')}</div>\n            <div style={{ marginLeft: 10, marginRight: 10, color: 'rgb(185,47,38)' }}>{':'}</div>\n            <div style={{ marginBottom: 5 }}>{min().toString().padStart(2, '0')}</div>\n            <div style={{ marginLeft: 10, marginRight: 10, color: 'rgb(185,47,38)' }}>{':'}</div>\n            <div style={{ marginBottom: 5 }}>{sec().toString().padStart(2, '0')}</div>\n          </div>\n          <ConfirmButton\n            shadowed\n            onClick={() => {\n              setIsLeaveModalOpen(true);\n            }}\n          >\n            現在離埸\n          </ConfirmButton>\n          {/* <LeaveMessage>當你離開時請緊記按\"離開\"</LeaveMessage> */}\n          <AutoLeave>\n            <CheckBoxWrapper>\n              <CheckBox checked={autoLeave} onChange={setAutoLeave} />\n              {autoLeaveHour}小時後自動離開\n            </CheckBoxWrapper>\n            <Change onClick={() => { setIsAutoLeaveModalOpen(true) }}>變更</Change>\n          </AutoLeave>\n        </ActionGroup>\n      </PageWrapper>\n      <AutoLeaveModal\n        isModalOpen={isAutoLeaveModalOpen}\n        onCancel={() => {\n          setIsAutoLeaveModalOpen(false);\n        }}\n        onConfirm={handleSetAutoLeaveHour}\n        selectedAutoLeaveHour={autoLeaveHour}\n        date={date}\n      />\n      <LeaveModal\n        isModalOpen={isLeaveModalOpen}\n        onCancel={() => {\n          setIsLeaveModalOpen(false);\n        }}\n        onLeaveNow={handleLeavePage}\n        onLeaved={handleLeaved}\n        place={place || \"\"}\n        date={date}\n        autoLeaveHour={autoLeave ? autoLeaveHour : 0}\n      />\n      <TimePickModal\n        isModalOpen={isTimePickModalOpen}\n        onCancel={() => {\n          setIsTimePickModalOpen(false);\n        }}\n        onConfirm={handleLeavePage}\n      />\n    </>\n  );\n};\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n  padding-top: 20px,\n`;\n\nconst Header = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  flex-shrink: 0;\n  margin-bottom: 20px;\n`;\n\nconst Cross = styled.img`\n  height: 20px;\n  margin: 24px;\n`;\n\nconst PlaceWrapper = styled.div`\n  padding: 0 32px;\n`;\n\nconst MessageWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px\n`;\n\nconst TickWrapper = styled.div`\n  height: 100%;\n  width: 100%;\n  text-align: center;\n`;\n\nconst TickWrapperInner = styled.div`\n  height: 100%;\n  max-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst Tick = styled.img`\n  display: inline-block;\n  height: 100%;\n  max-height: 110px;\n`;\n\nconst Msg = styled.div`\n  color: #ffffff;\n  text-align: center;\n  font-size: 15px;\n`;\n\nconst Time = styled.div`\n  color: #ffffff;\n  text-align: center;\n  font-size: 22px;\n`;\n\nconst AutoLeave = styled.div`\n  margin-bottom: 16px;\n  width: 100%;\n  max-width: 380px;\n  margin: 16px auto;\n  display: flex;\n  flex-shrink: 0;\n  font-size: 14px;\n  align-items: center;\n`;\n\nconst CheckBoxWrapper = styled.div`\n  width: 100%;\n  text-align: left;\n  line-height: 32px;\n  align-items: center;\n  display: flex;\n`;\n\nconst Change = styled.div`\n  flex-shrink: 0;\n  line-height: 32px;\n  color: yellow;\n  text-decoration: underline;\n  text-shadow: none\n`;\n\nconst LeaveMessage = styled.div`\n  text-align: center;\n  // padding-bottom: 16px;\n  flex-shrink: 0;\n`;\n\nconst ActionGroup = styled.div`\n  width: 100%;\n  flex-shrink: 0;\n  align-items: center;\n  display: flex;\n  flex-direction: column\n`;\n","import { isEmpty, trim } from \"ramda\";\nimport { sha256 } from \"js-sha256\";\n\ntype DecodedJSON = {\n  hash: string;\n  metadata: { typeEn: string; typeZh: string };\n  nameEn: string;\n  nameZh: string;\n  type: string;\n};\n\nexport type EncodeParam = {\n  typeEn: string;\n  typeZh: string;\n  nameEn: string;\n  nameZh: string;\n  type: string;\n  venueCode: string;\n  venueID: string;\n};\n\nexport type EnhancedEncodeParam = EncodeParam & {\n  addressEn: string;\n  addressZh: string;\n  customImg: string | null;\n};\n\n// https://github.com/aaasssdddwww/back-home-safe/pull/7\nexport const qrDecode = (input: string): DecodedJSON | null => {\n  if (!input.startsWith(\"HKEN:\")) return null;\n  const venueId = input.substring(6, 14);\n  const computedHash = getHash(venueId);\n\n  const base64Data = input.substring(14);\n  const json: DecodedJSON = JSON.parse(\n    decodeURIComponent(escape(window.atob(base64Data)))\n  );\n\n  console.log({\n    input,\n    venueId,\n    decodedData: json,\n    computedHash,\n    hashMatch: computedHash === json.hash,\n  });\n\n  return json;\n};\n\nexport const getVenueName = (input: string) => {\n  if (!input.startsWith(\"HKEN:\")) return \"\";\n  const decodedJson = qrDecode(input);\n  if (!decodedJson) return \"\";\n\n  const trimmedZhName = decodedJson.nameZh ? trim(decodedJson.nameZh) : \"\";\n  const name = !isEmpty(trimmedZhName) ? trimmedZhName : decodedJson.nameEn;\n\n  return name;\n};\n\n// http://blog.headuck.com/2020/11/19/%e3%80%8c%e5%ae%89%e5%bf%83%e5%87%ba%e8%a1%8c%e3%80%8d%e8%83%bd%e5%90%a6%e5%ae%89%e5%bf%83%e4%bd%bf%e7%94%a8%ef%bc%9f%ef%bc%88%e4%ba%8c%ef%bc%89/?__cf_chl_captcha_tk__=872d5919c48d1b25116c910c9de6c92e2b27facf-1613591353-0-AcPHoKV7LGMua5u8nTgTCYJXS9ZaCBaNSavb3A1E6F6HLsITHuJ9oA-SH4uu4UqnYiphktotJfPYaSUxQSmcfTk6y8iVJb873VgLU0qrdjxU6pZjBx5UxwqLDXom03026Z7EFmoHq70-CVMFVFPdTLHLXkIEYDFHZeqU0RE5KUjOwoJpOIFRLfsXwtRYGefQtspNIySZCg6u5sSDpxdRNc5dpOfdN2dybpb0G5T7j2URLhglnm7gH_chBuLNtSg-awOlrCk7Ljktwxte6lQj6AoNG2Cbqry8_-VvWdPX_1BdDfQ3apJvfUewJ6AIqHfDclXLrRril2vcMckHgrgvATQa4rcOr6AwzaZBcf90sfp3bnNQw59oszIkaV3Dzb8TrJlm4jWq42q3ijXTUua1WKWPDBzDBNl1SjLtar-AI3kzrgwFgaXkWkAxakLyTBJ7wszVHo0DHdCtE_Ozma4VkIZWZSF_gZ3dgBeAbBdwW8XTPsliqfplIeHsML8uJ2dAlxxPIcDDJ7a0gYr2YK4Jdl1ot568DfdMOuzhoMzy2OJKT9YFITl4k0Zger3M5kjSUPjgAOjB4j4p2M6kla2DERXhQj0IRi-sXG92OWEX5-Joa4x41eMqH6X6La4CaSfamwyN3gSwFtBfxvPA2V-Hss3Vj4zEgGs75oxSS7ZrUwbwOORal3VPYiWHzaif0qbWw93UBfuMgfsAyJnvAa5TntFPz3PZqpY9rg6gExJSaKFGBKAnOxyitUe1BDt0rW76u_qay7xF1WlCGCtIasM82E5nF1X51J_sXcAMwmZyG29b\nexport const getHash = (venueId: string) => {\n  const string = `HKEN${venueId}2020`;\n  return sha256(string);\n};\n\nexport const qrEncode = ({\n  typeEn,\n  typeZh,\n  nameEn,\n  nameZh,\n  type,\n  venueCode,\n  venueID,\n}: EncodeParam) => {\n  const json = {\n    metadata: !isEmpty(typeEn) || !isEmpty(typeZh) ? { typeEn, typeZh } : null,\n    nameZh,\n    nameEn,\n    type,\n    hash: getHash(venueID),\n  };\n\n  const base64Data = window.btoa(\n    unescape(encodeURIComponent(JSON.stringify(json)))\n  );\n\n  return `HKEN:${venueCode}${venueID}${base64Data}`;\n};\n","export default __webpack_public_path__ + \"static/media/baseIcon.aa0e0793.png\";","import { isEmpty } from \"ramda\";\nimport React, { useEffect, useRef } from \"react\";\nimport { Place } from \"../../components/Place\";\nimport cross from \"../../assets/cross.svg\";\n\nimport { EnhancedEncodeParam, qrEncode } from \"../../utils/qr\";\nimport styled from \"styled-components\";\nimport QrCodeWithLogo from \"qrcode-with-logos\";\nimport baseIcon from \"../../assets/baseIcon.png\";\n\ntype Props = {\n  data: EnhancedEncodeParam;\n  onLeave: () => void;\n};\n\nexport const QRPreview = ({ data, onLeave }: Props) => {\n  const imgRef = useRef<HTMLImageElement>(null);\n\n  useEffect(() => {\n    if (!imgRef.current) return;\n\n    const encodedString = qrEncode(data);\n\n    new QrCodeWithLogo({\n      image: imgRef.current,\n      content: encodedString,\n      width: 380,\n      logo: {\n        src: data.customImg || baseIcon,\n        logoRadius: 8,\n        borderSize: 0,\n      },\n    }).toImage();\n  }, [data]);\n\n  return data ? (\n    <PageWrapper>\n      <Header>\n        <Cross src={cross} onClick={onLeave} />\n      </Header>\n      <MessageWrapper>\n        <PlaceWrapper>\n          {data.nameEn && !isEmpty(data.nameZh) && (\n            <StyledPlace value={data.nameZh || \"\"} readOnly />\n          )}\n          {data.nameEn && !isEmpty(data.nameEn) && (\n            <StyledPlace value={data.nameEn || \"\"} readOnly />\n          )}\n        </PlaceWrapper>\n      </MessageWrapper>\n      <TickWrapper>\n        <TickWrapperInner>\n          <StyledQrCode ref={imgRef} alt=\"qrCode\" />\n        </TickWrapperInner>\n      </TickWrapper>\n      <Address>\n        {data.addressZh && !isEmpty(data.addressZh) && (\n          <div>{data.addressZh}</div>\n        )}\n        {data.addressEn && !isEmpty(data.addressEn) && (\n          <div>{data.addressEn}</div>\n        )}\n      </Address>\n    </PageWrapper>\n  ) : (\n    <></>\n  );\n};\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n  background-color: #13b088;\n  position: absolute;\n`;\n\nconst Header = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  flex-shrink: 0;\n`;\n\nconst Cross = styled.img`\n  height: 20px;\n  margin: 24px;\n`;\n\nconst StyledPlace = styled(Place)`\n  font-size: 20px;\n  line-height: 20px;\n  text-shadow: none;\n`;\n\nconst PlaceWrapper = styled.div`\n  padding: 0 32px;\n`;\n\nconst MessageWrapper = styled.div`\n  width: 100%;\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst TickWrapper = styled.div`\n  height: 100%;\n  width: 100%;\n  text-align: center;\n`;\n\nconst TickWrapperInner = styled.div`\n  height: 100%;\n  max-height: 280px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst StyledQrCode = styled.img`\n  display: inline-block;\n  height: 100%;\n  max-height: 300px;\n  margin: 0 auto;\n`;\n\nconst Address = styled.div`\n  width: 100%;\n  height: 50%;\n  text-align: center;\n`;\n","import {\n  Button,\n  ButtonGroup,\n  Divider,\n  FormGroup,\n  TextField,\n} from \"@material-ui/core\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useSetState, useMount } from \"react-use\";\nimport styled from \"styled-components\";\nimport { Header } from \"../../components/Header\";\nimport { EnhancedEncodeParam, qrEncode } from \"../../utils/qr\";\nimport QrCodeWithLogo from \"qrcode-with-logos\";\nimport baseIcon from \"../../assets/baseIcon.png\";\nimport { head } from \"ramda\";\nimport { disableBodyScroll } from \"body-scroll-lock\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { QRPreview } from \"./QRPreview\";\n\nexport const QRGenerator = () => {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const fileFieldRef = React.useRef<HTMLInputElement>(null);\n\n  const [showPreview, setShowPreview] = useState(false);\n  const [qrCode, setQrCode] = useState<QrCodeWithLogo | null>(null);\n  const [state, setState] = useSetState<EnhancedEncodeParam>({\n    typeEn: \"Stores/Shopping Malls\",\n    typeZh: \"商店/商場\",\n    nameEn: \"CityWalk\",\n    nameZh: \"荃新天地\",\n    type: \"IMPORT\",\n    venueCode: \"0\",\n    venueID: \"WHBvLDSa\",\n    addressEn: \"1 & 18 Yeung Uk Rd, Tsuen Wan, Hong Kong\",\n    addressZh: \"荃灣楊屋道1號\",\n    customImg: null,\n  });\n\n  const isVenueCodeValid = state.venueCode.length === 1;\n  const isVenueIdValid = state.venueID.length === 8;\n\n  const isValidData = isVenueCodeValid && isVenueIdValid;\n\n  useMount(() => {\n    const root = document.querySelector(\"#scroll\");\n    if (!root) return;\n    disableBodyScroll(root);\n  });\n\n  useEffect(() => {\n    if (!imgRef.current || !isValidData) return;\n    const encodedString = qrEncode(state);\n\n    const qrCode = new QrCodeWithLogo({\n      image: imgRef.current,\n      content: encodedString,\n      width: 380,\n      logo: {\n        src: state.customImg || baseIcon,\n        logoRadius: 8,\n        borderSize: 0,\n      },\n    });\n\n    qrCode.toImage();\n    setQrCode(qrCode);\n  }, [state, isValidData]);\n\n  const handleFileSelected = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || []);\n    const img = head(files);\n    if (!img) {\n      setState({ customImg: null });\n    } else {\n      const reader = new FileReader();\n      reader.readAsDataURL(img);\n      reader.onload = () => setState({ customImg: String(reader.result) });\n    }\n  };\n\n  const handleDownload = () => {\n    if (!qrCode) return;\n    qrCode.downloadImage(\"QR Code\");\n  };\n\n  return (\n    <PageWrapper>\n      <Header backPath=\"/\" name=\"生成二維碼\" />\n      <ContentWrapper id=\"scroll\">\n        <StyledForm>\n          <StyledTextField\n            label=\"場所種類(中文) (typeZh)\"\n            value={state.typeZh}\n            onChange={(e) => {\n              setState({ typeZh: e.target.value });\n            }}\n          />\n          <StyledTextField\n            label=\"場所種類(英文) (typeEn)\"\n            value={state.typeEn}\n            onChange={(e) => {\n              setState({ typeEn: e.target.value });\n            }}\n          />\n          <StyledTextField\n            label=\"場所名字(中文) (nameZh)\"\n            value={state.nameZh}\n            onChange={(e) => {\n              setState({ nameZh: e.target.value });\n            }}\n          />\n          <StyledTextField\n            label=\"場所名字(英文) (nameEn)\"\n            value={state.nameEn}\n            onChange={(e) => {\n              setState({ nameEn: e.target.value });\n            }}\n          />\n          <StyledTextField\n            label=\"場所地址(中文) (預覽用)\"\n            value={state.addressZh}\n            onChange={(e) => {\n              setState({ addressZh: e.target.value });\n            }}\n          />\n          <StyledTextField\n            label=\"場所地址(英文) (預覽用)\"\n            value={state.addressEn}\n            onChange={(e) => {\n              setState({ addressEn: e.target.value });\n            }}\n          />\n          <StyledTextField\n            label=\"類型\"\n            value={state.type}\n            onChange={(e) => {\n              setState({ type: e.target.value });\n            }}\n          />\n          <StyledTextField\n            label=\"場地編碼 (唔知唔好搞)\"\n            value={state.venueCode}\n            onChange={(e) => {\n              setState({ venueCode: e.target.value });\n            }}\n            error={!isVenueCodeValid}\n            inputProps={{\n              maxLength: 1,\n            }}\n          />\n          <StyledTextField\n            label=\"場地ID (唔知唔好搞)\"\n            value={state.venueID}\n            onChange={(e) => {\n              setState({ venueID: e.target.value });\n            }}\n            error={!isVenueIdValid}\n            inputProps={{\n              maxLength: 8,\n            }}\n          />\n          <StyledInputWrapper>\n            <div>自定Icon</div>\n            <StyledFileInput\n              type=\"file\"\n              name=\"avatar\"\n              accept=\"image/png, image/jpeg\"\n              ref={fileFieldRef}\n              onChange={handleFileSelected}\n            />\n          </StyledInputWrapper>\n        </StyledForm>\n        <Divider />\n        <Actions>\n          <ButtonGroup aria-label=\"outlined primary button group\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              startIcon={<SaveIcon />}\n              onClick={handleDownload}\n              disabled={!isValidData}\n            >\n              儲存\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              startIcon={<SaveIcon />}\n              onClick={() => {\n                setShowPreview(true);\n              }}\n              disabled={!isValidData}\n            >\n              預覽\n            </Button>\n          </ButtonGroup>\n        </Actions>\n        <StyledQrCode ref={imgRef} alt=\"qrCode\" />\n      </ContentWrapper>\n      {showPreview && (\n        <QRPreview\n          data={state}\n          onLeave={() => {\n            setShowPreview(false);\n          }}\n        />\n      )}\n    </PageWrapper>\n  );\n};\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n`;\n\nconst StyledForm = styled(FormGroup)`\n  padding: 8px 16px;\n`;\n\nconst StyledTextField = styled(TextField)`\n  &.MuiFormControl-root {\n    margin-top: 8px;\n  }\n`;\n\nconst StyledInputWrapper = styled.div`\n  font-size: 12px;\n  padding: 4px 0;\n  color: rgba(0, 0, 0, 0.54);\n`;\n\nconst StyledFileInput = styled.input`\n  padding: 4px 0;\n`;\n\nconst StyledQrCode = styled.img`\n  width: 100%;\n`;\n\nconst Actions = styled.div`\n  margin-top: 16px;\n  display: flex;\n  justify-content: center;\n`;\n","export default __webpack_public_path__ + \"static/media/qrOverlay.185cc3ea.svg\";","import jsQR, { QRCode } from \"jsqr\";\nimport { useCallback } from \"react\";\n\nimport { MediaStream } from \"./MediaStream\";\n\ntype Props = {\n  onDecode: (code: QRCode) => void;\n};\n\nexport const QRCodeReader = ({ onDecode }: Props) => {\n  const handleFrame = useCallback(\n    (imageData: ImageData) => {\n      const code = jsQR(imageData.data, imageData.width, imageData.height, {\n        inversionAttempts: \"dontInvert\",\n      });\n      code && onDecode(code);\n    },\n    [onDecode]\n  );\n\n  return <MediaStream onFrame={handleFrame} />;\n};\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { getVenueName } from \"../../utils/qr\";\nimport qrOverlay from \"../../assets/qrOverlay.svg\";\nimport { QRCodeReader } from \"../../components/QRCodeReader\";\nimport { QRCode } from \"jsqr\";\nimport { isEmpty } from \"ramda\";\nimport { Header } from \"../../components/Header\";\n\nexport const QRReader = () => {\n  const browserHistory = useHistory();\n\n  const handleScan = ({ data }: QRCode) => {\n    if (!data || isEmpty(data)) return;\n    const place = getVenueName(data);\n    if (isEmpty(place)) return;\n    browserHistory.push({ pathname: \"/confirm\", search: `?place=${place}` });\n  };\n\n  return (\n    <PageWrapper>\n      <Header backPath=\"/\" name=\"掃瞄二維碼\" />\n      <Message>掃瞄二維碼</Message>\n      <VideoContainer>\n        <Overlay />\n        <QRCodeReader onDecode={handleScan} />\n      </VideoContainer>\n    </PageWrapper>\n  );\n};\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n`;\n\nconst VideoContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n`;\n\nconst Overlay = styled.div`\n  /* The image used */\n  background-image: url(\"${qrOverlay}\");\n\n  /* Full height */\n  height: 100%;\n\n  /* Center and scale the image nicely */\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  z-index: 50;\n  position: relative;\n`;\n\nconst Message = styled.div`\n  position: absolute;\n  z-index: 51;\n  bottom: 20%;\n  width: 100%;\n  text-align: center;\n  color: #ffffff;\n  font-size: 16px;\n`;\n","export default __webpack_public_path__ + \"static/media/bar.8d9e0584.png\";","export default __webpack_public_path__ + \"static/media/bg.80d5f5e2.png\";","export default __webpack_public_path__ + \"static/media/leave.d57da6b1.png\";","import dayjs from 'dayjs';\nimport moment from 'moment';\nimport 'moment/locale/zh-hk';\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport bar from '../../assets/bar.png';\nimport bg from '../../assets/bg.png';\nimport leave from '../../assets/leave.png';\nimport { useCamera } from \"../../hooks/useCamera\";\nimport global from '../../utils/global';\nimport { LeaveModal } from '../Confirm/LeaveModal';\n\nexport const Welcome = () => {\n  const { hasCameraSupport } = useCamera();\n  const [second, setSecond] = useState(0);\n  const [isLeaveModalOpen, setIsLeaveModalOpen] = useState(false);\n  \n  const timerStart = () => {\n    if (second === 0) {\n      setSecond(moment().diff(global.startTime, 'second'));\n      setTimeout(() => {\n        setSecond(moment().diff(global.startTime, 'second'));\n        timerStart()\n      }, 1000)\n    }\n  }\n\n  useEffect(() => {\n    if (global.startTime !== undefined) {\n      timerStart()\n    }\n  }, [timerStart])\n\n  const timeText = () => {\n    const min = Math.floor(second / 60)\n    const sec = second - (min * 60)\n    return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`\n  }\n\n  const onLeaveClicked = () => {\n    setIsLeaveModalOpen(true)\n  }\n\n  const date = useMemo(() => dayjs(), []);\n\n  const onLeave = () => {\n    setIsLeaveModalOpen(false);\n    global.startTime = undefined\n    global.place = ''\n  }\n\n  console.log('second', second)\n\n  return (\n    <PageWrapper>\n      <div style={styles.container}>\n        {\n          global.startTime !== undefined && <div style={styles.floatButton} onClick={onLeaveClicked}>\n            <img style={styles.fullWidth} src={leave} id={'bar'} alt={'bar'} />\n            <text style={styles.timeText}> {timeText()}</text>\n          </div>\n        }\n        <div style={styles.spacer} />\n        <div style={styles.dateTextContainer}>\n          <text style={styles.dateText}> {moment().locale('zh').format('YYYY-MM-DD, dddd')}</text>\n        </div>\n        <div style={styles.updateContainer}>\n          {hasCameraSupport && (\n            <Link to={global.startTime == undefined ? \"/qrReader\" : '/confirm'}>\n             {/* <Link to={\"/confirm\"}> */}\n              <img style={styles.bg} src={bg} id={'bg'} alt={'bg'} />\n            </Link>\n          )}\n          <text style={styles.updateText} id={'update'}> {`最後更新${moment().locale('zh').format('YYYY-MM-DD')}`}</text>\n        </div>\n        <div style={styles.whiteSpacer} />\n        <img style={styles.bottomBar} src={bar} id={'bar'} alt={'bar'} />\n      </div>\n      <LeaveModal\n        isModalOpen={isLeaveModalOpen}\n        onCancel={() => {\n          setIsLeaveModalOpen(false);\n        }}\n        onLeaveNow={onLeave}\n        onLeaved={onLeave}\n        place={global.place}\n        date={date}\n        autoLeaveHour={4}\n      />\n    </PageWrapper>\n  );\n};\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n`;\n\ninterface StyleSheet {\n  [key: string]: React.CSSProperties;\n}\nconst styles: StyleSheet = {\n  container: {\n    // height: 'inherit',\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n  },\n  floatButton: {\n    position: 'absolute',\n    width: 150,\n    height: 150,\n    backgroundColor: 'rgb(255,217,48)',\n    borderRadius: 75,\n    bottom: 150,\n    left: (window.innerWidth / 2) - 75,\n    boxShadow: '0px 2px 5px 0px #555555',\n    alignItems: 'center',\n    justifyContent: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    zIndex: 2,\n  },\n  timeText: {\n    position: 'absolute',\n    bottom: 20,\n    fontSize: 25,\n  },\n  spacer: {\n    height: 16\n  },\n  dateTextContainer: {\n    backgroundColor: '#13b088',\n    paddingTop: 60,\n  },\n  dateText: {\n    marginLeft: 85 / 1079 * window.innerWidth,\n    color: 'white',\n    fontSize: 18,\n    fontFamily: 'sans-serif',\n    textShadow: '1.5px 1.5px #555555',\n  },\n  updateContainer: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    paddingBottom: 60,\n    backgroundColor: 'rgb(253,253,253)',\n  },\n  updateText: {\n    position: 'relative',\n    left: 130 / 1079 * window.innerWidth,\n    bottom: 600 / 1079 * window.innerWidth,\n    fontSize: 12,\n    textShadow: 'none'\n  },\n  whiteSpacer: {\n    marginTop: -20,\n    flex: 1,\n    display: 'flex',\n    backgroundColor: 'white',\n  },\n  bg: {\n    width: '100%',\n    marginBottom: 60,\n    backgroundColor: 'white',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  bottomBar: {\n    width: '100%',\n    bottom: 0,\n    display: 'flex',\n    position: 'absolute',\n    left: 0,\n    boxShadow: '0px 0px 5px 0px #ccc',\n  },\n  whiteBg: {\n    backgroundColor: 'white',\n    position: 'absolute',\n    bottom: 0,\n    top: 500,\n    left: 0,\n    right: 0,\n    zIndex: -1,\n  },\n}\n","import { disableBodyScroll } from \"body-scroll-lock\";\nimport 'moment/locale/zh-hk';\nimport React, { useEffect, useState } from \"react\";\nimport { HashRouter, Redirect, Route } from \"react-router-dom\";\nimport { createGlobalStyle } from \"styled-components\";\nimport adapter from \"webrtc-adapter\";\nimport { AnimatedSwitch } from \"./components/AnimatedSwitch\";\nimport { CameraSetting } from \"./containers/CameraSetting\";\nimport { Confirm } from \"./containers/Confirm\";\nimport { QRGenerator } from \"./containers/QRGeneartor\";\nimport { QRReader } from \"./containers/QRReader\";\nimport { Welcome } from \"./containers/Welcome\";\nimport { useCamera } from \"./hooks/useCamera\";\nimport { checkPwaInstalled } from \"./utils/appCheck\";\n\n\nfunction App() {\n  const { hasCameraSupport } = useCamera();\n  const [showPWAPrompt, setShowPWAPrompt] = useState(!checkPwaInstalled());\n\n  useEffect(() => {\n    console.log(adapter.browserDetails.browser, adapter.browserDetails.version);\n  }, []);\n\n  useEffect(() => {\n    const root = document.querySelector(\"#root\");\n    // const el = document.querySelector(\"meta[name='viewport']\");\n    // el?.setAttribute('content', 'initial-scale=1, viewport-fit=cover')\n    // if (!root) return;\n    // disableBodyScroll(root);\n  }, []);\n\n\n  return (\n    <>\n      <GlobalStyle />\n      <HashRouter basename=\"/\">\n        <AnimatedSwitch>\n          <Route exact path=\"/\">\n            <Welcome />\n          </Route>\n          <Route exact path=\"/qrGenerator\">\n            <QRGenerator />\n          </Route>\n          <Route exact path=\"/confirm\">\n            <Confirm />\n          </Route>\n          {hasCameraSupport && (\n            <Route exact path=\"/qrReader\">\n              <QRReader />\n            </Route>\n          )}\n          {hasCameraSupport && (\n            <Route exact path=\"/cameraSetting\">\n              <CameraSetting />\n            </Route>\n          )}\n          <Redirect to=\"/\" />\n        </AnimatedSwitch>\n      </HashRouter>\n    </>\n  );\n}\n\nexport default App;\n\nconst GlobalStyle = createGlobalStyle`\nhtml {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\nbody {\n  margin: 0;\n  font-family: Rubik, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -webkit-overflow-scrolling: touch;\n  -moz-osx-font-smoothing: grayscale;\n  background-color:#13b088;\n  width: 100%;\n  height: 100%;\n  overflowX: hidden;\n  overflowY: hidden;\n}\n\ntextarea {\n  font-family: inherit;\n}\n\n\n#root {\n  width: 100%;\n  height: 100%;\n}\n\na {\n  text-decoration: none;\n}\n`;","export const checkPwaInstalled = () => {\n  const isInstalled =\n    window.matchMedia(\"(display-mode: standalone)\").matches ||\n    /\\bmode=standalone\\b/.test(window.location.hash) ||\n    window.location.hostname === \"localhost\";\n\n  return isInstalled;\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { UseCameraProvider } from \"./hooks/useCamera\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <UseCameraProvider>\n      <App />\n    </UseCameraProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}